import{a as j,b as U,c as k}from"./chunk-2VMXMS7J.js";var Ie=Object.create,ue=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,he=Object.getOwnPropertyNames,Oe=Object.getPrototypeOf,Ne=Object.prototype.hasOwnProperty,_=(t,e)=>function(){return e||(0,t[he(t)[0]])((e={exports:{}}).exports,e),e.exports},Le=(t,e,o,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of he(e))!Ne.call(t,s)&&s!==o&&ue(t,s,{get:()=>e[s],enumerable:!(i=Se(e,s))||i.enumerable});return t},z=(t,e,o)=>(o=t!=null?Ie(Oe(t)):{},Le(e||!t||!t.__esModule?ue(o,"default",{value:t,enumerable:!0}):o,t)),Q=_({"node_modules/semver/internal/debug.js"(t,e){"use strict";var o=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};e.exports=o}}),ae=_({"node_modules/semver/internal/constants.js"(t,e){"use strict";var o="2.0.0",i=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,f=i-6,d=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:i,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:f,MAX_SAFE_INTEGER:s,RELEASE_TYPES:d,SEMVER_SPEC_VERSION:o,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}}),ce=_({"node_modules/semver/internal/re.js"(t,e){"use strict";var{MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=ae(),a=Q();t=e.exports={};var f=t.re=[],d=t.safeRe=[],r=t.src=[],c=t.safeSrc=[],n=t.t={},l=0,h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[h,i]],O=v=>{for(let[g,L]of p)v=v.split(`${g}*`).join(`${g}{0,${L}}`).split(`${g}+`).join(`${g}{1,${L}}`);return v},u=(v,g,L)=>{let w=O(g),x=l++;a(v,x,g),n[v]=x,r[x]=g,c[x]=w,f[x]=new RegExp(g,L?"g":void 0),d[x]=new RegExp(w,L?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","\\d+"),u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),u("MAINVERSION",`(${r[n.NUMERICIDENTIFIER]})\\.(${r[n.NUMERICIDENTIFIER]})\\.(${r[n.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${r[n.NUMERICIDENTIFIERLOOSE]})\\.(${r[n.NUMERICIDENTIFIERLOOSE]})\\.(${r[n.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${r[n.NONNUMERICIDENTIFIER]}|${r[n.NUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${r[n.NONNUMERICIDENTIFIER]}|${r[n.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASE",`(?:-(${r[n.PRERELEASEIDENTIFIER]}(?:\\.${r[n.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${r[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${r[n.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER",`${h}+`),u("BUILD",`(?:\\+(${r[n.BUILDIDENTIFIER]}(?:\\.${r[n.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${r[n.MAINVERSION]}${r[n.PRERELEASE]}?${r[n.BUILD]}?`),u("FULL",`^${r[n.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${r[n.MAINVERSIONLOOSE]}${r[n.PRERELEASELOOSE]}?${r[n.BUILD]}?`),u("LOOSE",`^${r[n.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${r[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${r[n.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${r[n.XRANGEIDENTIFIER]})(?:\\.(${r[n.XRANGEIDENTIFIER]})(?:\\.(${r[n.XRANGEIDENTIFIER]})(?:${r[n.PRERELEASE]})?${r[n.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${r[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${r[n.XRANGEIDENTIFIERLOOSE]})(?:${r[n.PRERELEASELOOSE]})?${r[n.BUILD]}?)?)?`),u("XRANGE",`^${r[n.GTLT]}\\s*${r[n.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${r[n.GTLT]}\\s*${r[n.XRANGEPLAINLOOSE]}$`),u("COERCEPLAIN",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?`),u("COERCE",`${r[n.COERCEPLAIN]}(?:$|[^\\d])`),u("COERCEFULL",r[n.COERCEPLAIN]+`(?:${r[n.PRERELEASE]})?(?:${r[n.BUILD]})?(?:$|[^\\d])`),u("COERCERTL",r[n.COERCE],!0),u("COERCERTLFULL",r[n.COERCEFULL],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${r[n.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${r[n.LONETILDE]}${r[n.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${r[n.LONETILDE]}${r[n.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${r[n.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${r[n.LONECARET]}${r[n.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${r[n.LONECARET]}${r[n.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${r[n.GTLT]}\\s*(${r[n.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${r[n.GTLT]}\\s*(${r[n.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${r[n.GTLT]}\\s*(${r[n.LOOSEPLAIN]}|${r[n.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${r[n.XRANGEPLAIN]})\\s+-\\s+(${r[n.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${r[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${r[n.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}}),le=_({"node_modules/semver/internal/parse-options.js"(t,e){"use strict";var o=Object.freeze({loose:!0}),i=Object.freeze({}),s=a=>a?typeof a!="object"?o:a:i;e.exports=s}}),Te=_({"node_modules/semver/internal/identifiers.js"(t,e){"use strict";var o=/^[0-9]+$/,i=(a,f)=>{let d=o.test(a),r=o.test(f);return d&&r&&(a=+a,f=+f),a===f?0:d&&!r?-1:r&&!d?1:a<f?-1:1},s=(a,f)=>i(f,a);e.exports={compareIdentifiers:i,rcompareIdentifiers:s}}}),Y=_({"node_modules/semver/classes/semver.js"(t,e){"use strict";var o=Q(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=ae(),{safeRe:a,t:f}=ce(),d=le(),{compareIdentifiers:r}=Te(),c=class V{constructor(l,h){if(h=d(h),l instanceof V){if(l.loose===!!h.loose&&l.includePrerelease===!!h.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>i)throw new TypeError(`version is longer than ${i} characters`);o("SemVer",l,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;let p=l.trim().match(h.loose?a[f.LOOSE]:a[f.FULL]);if(!p)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(O=>{if(/^[0-9]+$/.test(O)){let u=+O;if(u>=0&&u<s)return u}return O}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(o("SemVer.compare",this.version,this.options,l),!(l instanceof V)){if(typeof l=="string"&&l===this.version)return 0;l=new V(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof V||(l=new V(l,this.options)),r(this.major,l.major)||r(this.minor,l.minor)||r(this.patch,l.patch)}comparePre(l){if(l instanceof V||(l=new V(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let h=0;do{let p=this.prerelease[h],O=l.prerelease[h];if(o("prerelease compare",h,p,O),p===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(p===void 0)return-1;if(p===O)continue;return r(p,O)}while(++h)}compareBuild(l){l instanceof V||(l=new V(l,this.options));let h=0;do{let p=this.build[h],O=l.build[h];if(o("build compare",h,p,O),p===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(p===void 0)return-1;if(p===O)continue;return r(p,O)}while(++h)}inc(l,h,p){if(l.startsWith("pre")){if(!h&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(h){let O=`-${h}`.match(this.options.loose?a[f.PRERELEASELOOSE]:a[f.PRERELEASE]);if(!O||O[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,p),this.inc("pre",h,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,p),this.inc("pre",h,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let O=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[O];else{let u=this.prerelease.length;for(;--u>=0;)typeof this.prerelease[u]=="number"&&(this.prerelease[u]++,u=-2);if(u===-1){if(h===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(O)}}if(h){let u=[h,O];p===!1&&(u=[h]),r(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=u):this.prerelease=u}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};e.exports=c}}),we=_({"node_modules/semver/functions/parse.js"(t,e){"use strict";var o=Y(),i=(s,a,f=!1)=>{if(s instanceof o)return s;try{return new o(s,a)}catch(d){if(!f)return null;throw d}};e.exports=i}}),Ae=_({"node_modules/semver/functions/valid.js"(t,e){"use strict";var o=we(),i=(s,a)=>{let f=o(s,a);return f?f.version:null};e.exports=i}}),Ce=_({"node_modules/semver/internal/lrucache.js"(t,e){"use strict";var o=class{constructor(){this.max=1e3,this.map=new Map}get(i){let s=this.map.get(i);if(s!==void 0)return this.map.delete(i),this.map.set(i,s),s}delete(i){return this.map.delete(i)}set(i,s){if(!this.delete(i)&&s!==void 0){if(this.map.size>=this.max){let f=this.map.keys().next().value;this.delete(f)}this.map.set(i,s)}return this}};e.exports=o}}),M=_({"node_modules/semver/functions/compare.js"(t,e){"use strict";var o=Y(),i=(s,a,f)=>new o(s,f).compare(new o(a,f));e.exports=i}}),Pe=_({"node_modules/semver/functions/eq.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)===0;e.exports=i}}),ye=_({"node_modules/semver/functions/neq.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)!==0;e.exports=i}}),fe=_({"node_modules/semver/functions/gt.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)>0;e.exports=i}}),_e=_({"node_modules/semver/functions/gte.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)>=0;e.exports=i}}),xe=_({"node_modules/semver/functions/lt.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)<0;e.exports=i}}),be=_({"node_modules/semver/functions/lte.js"(t,e){"use strict";var o=M(),i=(s,a,f)=>o(s,a,f)<=0;e.exports=i}}),Fe=_({"node_modules/semver/functions/cmp.js"(t,e){"use strict";var o=Pe(),i=ye(),s=fe(),a=_e(),f=xe(),d=be(),r=(c,n,l,h)=>{switch(n){case"===":return typeof c=="object"&&(c=c.version),typeof l=="object"&&(l=l.version),c===l;case"!==":return typeof c=="object"&&(c=c.version),typeof l=="object"&&(l=l.version),c!==l;case"":case"=":case"==":return o(c,l,h);case"!=":return i(c,l,h);case">":return s(c,l,h);case">=":return a(c,l,h);case"<":return f(c,l,h);case"<=":return d(c,l,h);default:throw new TypeError(`Invalid operator: ${n}`)}};e.exports=r}}),je=_({"node_modules/semver/classes/comparator.js"(t,e){"use strict";var o=Symbol("SemVer ANY"),i=class ne{static get ANY(){return o}constructor(h,p){if(p=s(p),h instanceof ne){if(h.loose===!!p.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),r("comparator",h,p),this.options=p,this.loose=!!p.loose,this.parse(h),this.semver===o?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}parse(h){let p=this.options.loose?a[f.COMPARATORLOOSE]:a[f.COMPARATOR],O=h.match(p);if(!O)throw new TypeError(`Invalid comparator: ${h}`);this.operator=O[1]!==void 0?O[1]:"",this.operator==="="&&(this.operator=""),O[2]?this.semver=new c(O[2],this.options.loose):this.semver=o}toString(){return this.value}test(h){if(r("Comparator.test",h,this.options.loose),this.semver===o||h===o)return!0;if(typeof h=="string")try{h=new c(h,this.options)}catch{return!1}return d(h,this.operator,this.semver,this.options)}intersects(h,p){if(!(h instanceof ne))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new n(h.value,p).test(this.value):h.operator===""?h.value===""?!0:new n(this.value,p).test(h.semver):(p=s(p),p.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||d(this.semver,"<",h.semver,p)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||d(this.semver,">",h.semver,p)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}};e.exports=i;var s=le(),{safeRe:a,t:f}=ce(),d=Fe(),r=Q(),c=Y(),n=ee()}}),ee=_({"node_modules/semver/classes/range.js"(t,e){"use strict";var o=/\s+/g,i=class K{constructor(m,I){if(I=f(I),m instanceof K)return m.loose===!!I.loose&&m.includePrerelease===!!I.includePrerelease?m:new K(m.raw,I);if(m instanceof d)return this.raw=m.value,this.set=[[m]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=m.trim().replace(o," "),this.set=this.raw.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let $=this.set[0];if(this.set=this.set.filter(S=>!g(S[0])),this.set.length===0)this.set=[$];else if(this.set.length>1){for(let S of this.set)if(S.length===1&&L(S[0])){this.set=[S];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let m=0;m<this.set.length;m++){m>0&&(this.formatted+="||");let I=this.set[m];for(let $=0;$<I.length;$++)$>0&&(this.formatted+=" "),this.formatted+=I[$].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(m){let $=((this.options.includePrerelease&&u)|(this.options.loose&&v))+":"+m,S=a.get($);if(S)return S;let R=this.options.loose,N=R?n[l.HYPHENRANGELOOSE]:n[l.HYPHENRANGE];m=m.replace(N,Re(this.options.includePrerelease)),r("hyphen replace",m),m=m.replace(n[l.COMPARATORTRIM],h),r("comparator trim",m),m=m.replace(n[l.TILDETRIM],p),r("tilde trim",m),m=m.replace(n[l.CARETTRIM],O),r("caret trim",m);let A=m.split(" ").map(b=>x(b,this.options)).join(" ").split(/\s+/).map(b=>$e(b,this.options));R&&(A=A.filter(b=>(r("loose invalid filter",b,this.options),!!b.match(n[l.COMPARATORLOOSE])))),r("range list",A);let T=new Map,C=A.map(b=>new d(b,this.options));for(let b of C){if(g(b))return[b];T.set(b.value,b)}T.size>1&&T.has("")&&T.delete("");let G=[...T.values()];return a.set($,G),G}intersects(m,I){if(!(m instanceof K))throw new TypeError("a Range is required");return this.set.some($=>w($,I)&&m.set.some(S=>w(S,I)&&$.every(R=>S.every(N=>R.intersects(N,I)))))}test(m){if(!m)return!1;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(ge(this.set[I],m,this.options))return!0;return!1}};e.exports=i;var s=Ce(),a=new s,f=le(),d=je(),r=Q(),c=Y(),{safeRe:n,t:l,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:O}=ce(),{FLAG_INCLUDE_PRERELEASE:u,FLAG_LOOSE:v}=ae(),g=E=>E.value==="<0.0.0-0",L=E=>E.value==="",w=(E,m)=>{let I=!0,$=E.slice(),S=$.pop();for(;I&&$.length;)I=$.every(R=>S.intersects(R,m)),S=$.pop();return I},x=(E,m)=>(r("comp",E,m),E=re(E,m),r("caret",E),E=J(E,m),r("tildes",E),E=te(E,m),r("xrange",E),E=ve(E,m),r("stars",E),E),y=E=>!E||E.toLowerCase()==="x"||E==="*",J=(E,m)=>E.trim().split(/\s+/).map(I=>q(I,m)).join(" "),q=(E,m)=>{let I=m.loose?n[l.TILDELOOSE]:n[l.TILDE];return E.replace(I,($,S,R,N,A)=>{r("tilde",E,$,S,R,N,A);let T;return y(S)?T="":y(R)?T=`>=${S}.0.0 <${+S+1}.0.0-0`:y(N)?T=`>=${S}.${R}.0 <${S}.${+R+1}.0-0`:A?(r("replaceTilde pr",A),T=`>=${S}.${R}.${N}-${A} <${S}.${+R+1}.0-0`):T=`>=${S}.${R}.${N} <${S}.${+R+1}.0-0`,r("tilde return",T),T})},re=(E,m)=>E.trim().split(/\s+/).map(I=>B(I,m)).join(" "),B=(E,m)=>{r("caret",E,m);let I=m.loose?n[l.CARETLOOSE]:n[l.CARET],$=m.includePrerelease?"-0":"";return E.replace(I,(S,R,N,A,T)=>{r("caret",E,S,R,N,A,T);let C;return y(R)?C="":y(N)?C=`>=${R}.0.0${$} <${+R+1}.0.0-0`:y(A)?R==="0"?C=`>=${R}.${N}.0${$} <${R}.${+N+1}.0-0`:C=`>=${R}.${N}.0${$} <${+R+1}.0.0-0`:T?(r("replaceCaret pr",T),R==="0"?N==="0"?C=`>=${R}.${N}.${A}-${T} <${R}.${N}.${+A+1}-0`:C=`>=${R}.${N}.${A}-${T} <${R}.${+N+1}.0-0`:C=`>=${R}.${N}.${A}-${T} <${+R+1}.0.0-0`):(r("no pr"),R==="0"?N==="0"?C=`>=${R}.${N}.${A}${$} <${R}.${N}.${+A+1}-0`:C=`>=${R}.${N}.${A}${$} <${R}.${+N+1}.0-0`:C=`>=${R}.${N}.${A} <${+R+1}.0.0-0`),r("caret return",C),C})},te=(E,m)=>(r("replaceXRanges",E,m),E.split(/\s+/).map(I=>se(I,m)).join(" ")),se=(E,m)=>{E=E.trim();let I=m.loose?n[l.XRANGELOOSE]:n[l.XRANGE];return E.replace(I,($,S,R,N,A,T)=>{r("xRange",E,$,S,R,N,A,T);let C=y(R),G=C||y(N),b=G||y(A),W=b;return S==="="&&W&&(S=""),T=m.includePrerelease?"-0":"",C?S===">"||S==="<"?$="<0.0.0-0":$="*":S&&W?(G&&(N=0),A=0,S===">"?(S=">=",G?(R=+R+1,N=0,A=0):(N=+N+1,A=0)):S==="<="&&(S="<",G?R=+R+1:N=+N+1),S==="<"&&(T="-0"),$=`${S+R}.${N}.${A}${T}`):G?$=`>=${R}.0.0${T} <${+R+1}.0.0-0`:b&&($=`>=${R}.${N}.0${T} <${R}.${+N+1}.0-0`),r("xRange return",$),$})},ve=(E,m)=>(r("replaceStars",E,m),E.trim().replace(n[l.STAR],"")),$e=(E,m)=>(r("replaceGTE0",E,m),E.trim().replace(n[m.includePrerelease?l.GTE0PRE:l.GTE0],"")),Re=E=>(m,I,$,S,R,N,A,T,C,G,b,W)=>(y($)?I="":y(S)?I=`>=${$}.0.0${E?"-0":""}`:y(R)?I=`>=${$}.${S}.0${E?"-0":""}`:N?I=`>=${I}`:I=`>=${I}${E?"-0":""}`,y(C)?T="":y(G)?T=`<${+C+1}.0.0-0`:y(b)?T=`<${C}.${+G+1}.0-0`:W?T=`<=${C}.${G}.${b}-${W}`:E?T=`<${C}.${G}.${+b+1}-0`:T=`<=${T}`,`${I} ${T}`.trim()),ge=(E,m,I)=>{for(let $=0;$<E.length;$++)if(!E[$].test(m))return!1;if(m.prerelease.length&&!I.includePrerelease){for(let $=0;$<E.length;$++)if(r(E[$].semver),E[$].semver!==d.ANY&&E[$].semver.prerelease.length>0){let S=E[$].semver;if(S.major===m.major&&S.minor===m.minor&&S.patch===m.patch)return!0}return!1}return!0}}}),Ge=_({"node_modules/semver/functions/satisfies.js"(t,e){"use strict";var o=ee(),i=(s,a,f)=>{try{a=new o(a,f)}catch{return!1}return a.test(s)};e.exports=i}}),De=_({"node_modules/semver/ranges/min-version.js"(t,e){"use strict";var o=Y(),i=ee(),s=fe(),a=(f,d)=>{f=new i(f,d);let r=new o("0.0.0");if(f.test(r)||(r=new o("0.0.0-0"),f.test(r)))return r;r=null;for(let c=0;c<f.set.length;++c){let n=f.set[c],l=null;n.forEach(h=>{let p=new o(h.semver.version);switch(h.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!l||s(p,l))&&(l=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),l&&(!r||s(r,l))&&(r=l)}return r&&f.test(r)?r:null};e.exports=a}}),Ve=_({"node_modules/semver/ranges/valid.js"(t,e){"use strict";var o=ee(),i=(s,a)=>{try{return new o(s,a).range||"*"}catch{return null}};e.exports=i}}),qe=t=>(e,o={})=>(o?.override&&document.head.querySelectorAll(`script[type="${t}"]`).forEach(i=>i.remove()),document.head.appendChild(Object.assign(document.createElement("script"),{type:t,innerHTML:JSON.stringify(e)})),Promise.resolve(e)),Ue=()=>({loadModuleFn:t=>import(t),setImportMap:qe("importmap")}),ke=t=>{let e=Ue();return{setImportMap:t.setImportMap??e.setImportMap,loadModuleFn:t.loadModuleFn??e.loadModuleFn}},Xe=t=>t?.hostRemoteEntry?typeof t.hostRemoteEntry=="string"?{hostRemoteEntry:{name:"__NF-HOST__",url:t.hostRemoteEntry}}:{hostRemoteEntry:j({name:"__NF-HOST__"},t.hostRemoteEntry)}:{hostRemoteEntry:!1},Me={debug:()=>{},error:()=>{},warn:()=>{}},oe={debug:0,warn:1,error:2},He=(t,e)=>Object.keys(oe).filter(i=>isNaN(Number(i))).reduce((i,s)=>U(j({},i),{[s]:(a,f,d)=>{oe[s]>=oe[e]&&t[s](a,f,d)}}),{level:e}),Je=({logger:t,logLevel:e})=>({log:He(t??Me,e??"error")}),P=class extends Error{constructor(t,e){super(t,e),this.name="NFError"}},ie=(t,e)=>{try{if(typeof globalThis.structuredClone=="function")return globalThis.structuredClone(e)}catch{}try{return JSON.parse(JSON.stringify(e))}catch{}throw new P(`Could not parse storage entry '${String(t)}'`)},We=t=>(e,o)=>{globalThis[t]||(globalThis[t]={});let i=globalThis[t];i[e]||(i[e]=o);let s={get(){return ie(e,i[e])},set(a){return i[e]=ie(e,a),s},clear(){return i[e]=ie(e,o),this}};return s},ze=t=>({storage:t.storage?t.storage(t.storageNamespace??"__NATIVE_FEDERATION__"):We(t.storageNamespace??"__NATIVE_FEDERATION__"),clearStorage:t.clearStorage??!1}),Ye={latestSharedExternal:!1,overrideCachedRemotes:"init-only",overrideCachedRemotesIfURLMatches:!1},Be=t=>({strict:t.strict??!1,profile:t.profile??Ye}),Ke=t=>j(j(j(j(j({},ke(t)),Xe(t)),Je(t)),ze(t)),Be(t));function Ze(t,e){return s=>Promise.resolve(s).then(o).then(i);function o(s){return e.browser.setImportMap(s),t.log.debug(5,"Added import map to browser.",s),s}function i(){e.remoteInfoRepo.commit(),e.scopedExternalsRepo.commit(),e.sharedExternalsRepo.commit()}}var D="__GLOBAL__",Qe="strict";function er(t,e){return()=>{for(let i of e.sharedExternalsRepo.getScopes()){let s=e.sharedExternalsRepo.getFromScope(i);try{Object.entries(s).filter(([a,f])=>f.dirty).forEach(([a,f])=>e.sharedExternalsRepo.addOrUpdate(a,o(a,f),i))}catch(a){return t.log.error(3,`[${i??D}] failed to determine shared externals.`,{sharedExternals:s,error:a}),Promise.reject(new P(`Could not determine shared externals in scope ${i}.`,a))}}return Promise.resolve()};function o(i,s){if(s.versions.length===1)return s.versions[0].action="share",s.dirty=!1,s;let a=s.versions.find(f=>f.host);if(!a&&t.profile.latestSharedExternal&&(a=s.versions[0]),!a){let f=Number.MAX_VALUE;s.versions.forEach(d=>{let r=s.versions.filter(c=>!c.remotes[0].cached&&c.remotes[0].strictVersion&&!e.versionCheck.isCompatible(d.tag,c.remotes[0].requiredVersion)).length;r<f&&(f=r,a=d)})}if(!a)throw new P(`[${i}] Could not determine shared version!`);return s.versions.forEach(f=>{if(e.versionCheck.isCompatible(a.tag,f.remotes[0].requiredVersion)){f.action="skip";return}if(t.strict&&f.remotes[0].strictVersion)throw new P(`[${f.remotes[0].name}] ${i}@${f.tag} is not compatible with existing ${a.remotes[0].requiredVersion}@${a.tag} requiredRange '${a.remotes[0]?.requiredVersion}'`);f.action=f.remotes[0].strictVersion?"scope":"skip"}),a.action="share",s.dirty=!1,s}}function F(t,e){return t=t.endsWith("/")?t.slice(0,-1):t,e=e.startsWith("/")?e.slice(1):e,`${t}/${e}`}function Z(t){if(!t)return"";let e=t.split("/");return(e[e.length-1]===""||e[e.length-1].includes("."))&&e.pop(),e.length<1?"":`${e.join("/")}/`}function rr(t,e){return()=>{let u={imports:{}};try{return o(u),s(u),r(u),h(u),Promise.resolve(u)}catch(v){return Promise.reject(v)}};function o(u){let v=e.scopedExternalsRepo.getAll();for(let[g,L]of Object.entries(v)){let w=e.remoteInfoRepo.tryGet(g).orThrow(()=>(t.log.error(4,`[scoped][${g}] Remote name not found in cache.`),new P("Could not create ImportMap.")));n(u,w.scopeUrl,i(L,w.scopeUrl))}return u}function i(u,v){let g={};for(let[L,w]of Object.entries(u))g[L]=F(v,w.file);return g}function s(u){let v=e.sharedExternalsRepo.getScopes({includeGlobal:!1});for(let g of v)a(u,g);return u}function a(u,v){let g=e.sharedExternalsRepo.getFromScope(v),L=e.sharedExternalsRepo.scopeType(v);for(let[w,x]of Object.entries(g)){let y,J;for(let q of x.versions){if(q.action==="skip"&&L==="global")continue;let re=O(w,v,q.remotes[0].name),B=F(re,q.remotes[0].file);q.remotes[0].cached=!0,q.action==="skip"&&(y||(y=f(x,v,w)??"NOT_AVAILABLE"),y!=="NOT_AVAILABLE"&&(J||(J=O(w,v,y.remotes[0].name)),B=F(J,y.remotes[0].file),y.remotes[0].cached=!0,q.remotes[0].cached=!1)),q.remotes.forEach(te=>{let se=O(w,v,te.name);n(u,se,{[w]:B})})}e.sharedExternalsRepo.addOrUpdate(w,x,v)}}function f(u,v,g){let L=u.versions.filter(x=>x.action==="share"),w=`${v}.${g}`;if(L.length>1&&d(w),L.length<1){if(t.strict)throw t.log.error(4,`[${v}][${g}] shareScope has no override version.`),new P("Could not create ImportMap.");t.log.debug(4,`[${v}][${g}] shareScope has no override version, scoping override versions.`)}return L[0]}function d(u){if(t.strict)throw t.log.error(4,`[${u}] ShareScope external has multiple shared versions.`),new P("Could not create ImportMap.");t.log.warn(4,`ShareScope external ${u} has multiple shared versions.`)}function r(u){let v=e.sharedExternalsRepo.getFromScope();for(let[g,L]of Object.entries(v)){for(let w of L.versions){if(w.action==="skip")continue;let x=O(g,D,w.remotes[0].name);if(w.action==="scope"){n(u,x,{[g]:F(x,w.remotes[0].file)}),w.remotes[0].cached=!0;continue}if(u.imports[g]){c(g);continue}l(u,{[g]:F(x,w.remotes[0].file)}),w.remotes[0].cached=!0}e.sharedExternalsRepo.addOrUpdate(g,L)}return u}function c(u){if(t.strict)throw t.log.error(4,`[${u}] Shared external has multiple shared versions.`),new P("Could not create ImportMap.");t.log.warn(4,`Singleton external ${u} has multiple shared versions.`)}function n(u,v,g){u.scopes||(u.scopes={}),u.scopes[v]||(u.scopes[v]={}),u.scopes[v]=Object.assign(u.scopes[v],g)}function l(u,v){u.imports=Object.assign(u.imports,v)}function h(u){let v=e.remoteInfoRepo.getAll();for(let[g,L]of Object.entries(v))p(u,g,L)}function p(u,v,g){for(let L of g.exposes){let w=F(v,L.moduleName),x=F(g.scopeUrl,L.file);u.imports[w]=x}}function O(u,v,g){return e.remoteInfoRepo.tryGet(g).map(L=>L.scopeUrl).orThrow(()=>(t.log.error(4,`[${v}][${u}][${g}] Remote name not found in cache.`),new P("Could not create ImportMap.")))}}function tr(t,e){return(d={})=>e.manifestProvider.provide(d).catch(r=>(t.log.error(1,"Could not fetch manifest.",r),Promise.reject(new P("Failed to fetch manifest")))).then(o).then(i).then(f);function o(d){if(!t.hostRemoteEntry)return d;let{name:r,url:c,cacheTag:n}=t.hostRemoteEntry,l=n?`${c}?cacheTag=${n}`:c;return U(j({},d),{[r]:l})}function i(d){return k(this,null,function*(){let r=Object.entries(d).map(([c,n])=>s(c,n));return Promise.all(r)})}function s(d,r){return k(this,null,function*(){let c=!1,n=!1;if(e.remoteInfoRepo.tryGet(d).ifPresent(l=>{t.profile.overrideCachedRemotes!=="never"&&(r!==F(l.scopeUrl,"remoteEntry.json")||t.profile.overrideCachedRemotesIfURLMatches)?(t.log.debug(1,`Overriding existing remote '${d}' with '${r}'.`),c=!0):(t.log.debug(1,`Found remote '${d}' in storage, omitting fetch.`),n=!0)}),n)return!1;try{let l=yield e.remoteEntryProvider.provide(r);return t.log.debug(1,`Fetched '${l.name}' from '${l.url}', exposing: ${JSON.stringify(l.exposes)}`),a(l,d,c)}catch(l){return t.strict?(t.log.error(1,`Could not fetch remote '${d}'.`,l),Promise.reject(new P(`Could not fetch remote '${d}'`))):(t.log.warn(1,`Could not fetch remote '${d}'. skipping init.`,l),Promise.resolve(!1))}})}function a(d,r,c){if(c&&(d.override=c),t.hostRemoteEntry&&r===t.hostRemoteEntry.name&&(d.host=!0,d.name=t.hostRemoteEntry.name),d.name!==r){let n=`Fetched remote '${d.name}' does not match requested '${r}'.`;if(t.strict)throw new P(n);t.log.warn(1,`${n} Omitting expected name.`)}return d}function f(d){return d.filter(r=>r!==!1)}}function sr(t,e){return r=>{try{return r.forEach(c=>{c?.override&&o(c),i(c),s(c)}),Promise.resolve(r)}catch(c){return Promise.reject(c)}};function o(r){e.remoteInfoRepo.remove(r.name),e.scopedExternalsRepo.remove(r.name),e.sharedExternalsRepo.removeFromAllScopes(r.name)}function i({name:r,url:c,exposes:n}){e.remoteInfoRepo.addOrUpdate(r,{scopeUrl:Z(c),exposes:Object.values(n??[]).map(l=>({moduleName:l.key,file:l.outFileName}))})}function s(r){r.shared.forEach(c=>{(!c.version||!e.versionCheck.isValidSemver(c.version))&&d(r.name,`[${r.name}][${c.packageName}] Version '${c.version}' is not a valid version.`),c.singleton?a(r.name,c,r):f(r.name,c)})}function a(r,c,n){let l="skip",h=c.version??e.versionCheck.smallestVersion(c.requiredVersion),p={file:c.outFileName,name:r,strictVersion:c.strictVersion,cached:!1,requiredVersion:c.requiredVersion},O=e.sharedExternalsRepo.scopeType(c.shareScope);O==="strict"&&(l="share",p.requiredVersion=h);let u=e.sharedExternalsRepo.tryGet(c.packageName,c.shareScope).orElse({dirty:!1,versions:[]}),v=u.versions.find(L=>L.tag===c.version),g=u.dirty;v?(p.strictVersion&&v.remotes[0].requiredVersion!==p.requiredVersion&&t.log.warn(2,`[${r}][${c.packageName}@${c.version}] Required version-range '${p.requiredVersion}' does not match cached version-range '${v.remotes[0].requiredVersion}'`),!v.host&&n?.host?(v.host=!0,v.remotes.unshift(p)):v.remotes.push(p)):(O!=="strict"&&(g=!0),u.versions.push({tag:h,action:l,host:!!n?.host,remotes:[p]})),e.sharedExternalsRepo.addOrUpdate(c.packageName,{dirty:g,versions:u.versions.sort((L,w)=>e.versionCheck.compare(w.tag,L.tag))},c.shareScope)}function f(r,c){e.scopedExternalsRepo.addExternal(r,c.packageName,{tag:c.version??e.versionCheck.smallestVersion(c.requiredVersion),file:c.outFileName})}function d(r,c){if(t.strict)throw t.log.error(2,c),new P(`Could not process remote '${r}'`);t.log.warn(2,c)}}function or(t,e){return()=>Promise.resolve(o);function o(i,s){try{if(!e.remoteInfoRepo.contains(i))throw new P(`Remote '${i}' is not initialized.`);let a=e.remoteInfoRepo.tryGetModule(i,s).orThrow(new P(`Exposed module '${s}' from remote '${i}' not found in storage.`));return t.log.debug(6,`Loading initialized module '${a}'`),e.browser.importModule(a)}catch(a){return t.log.error(6,`Failed to load module ${F(i,s)}: `,{error:a}),Promise.reject(new P(`Failed to load module ${F(i,s)}`))}}}var ir=(t,e)=>({getRemoteEntries:tr(t,e),processRemoteEntries:sr(t,e),determineSharedExternals:er(t,e),generateImportMap:rr(t,e),commitChanges:Ze(t,e),exposeModuleLoader:or(t,e)}),nr=t=>({setImportMap:t.setImportMap,importModule:t.loadModuleFn}),ar=z(Ae()),cr=z(Ge()),lr=z(M()),ur=z(De()),hr=z(Ve()),fr=()=>({isValidSemver:function(t){return(0,ar.default)(t)!==null},isCompatible:function(t,e){return(0,cr.default)(t,e)},compare:function(t,e){return(0,lr.default)(t,e,!0)},smallestVersion:function(t){return(0,hr.default)(t)?(0,ur.default)(t)?.raw??"0.0.0":"0.0.0"}}),dr=()=>{let t=o=>o.ok?o.json():Promise.reject(new P(`${o.status} - ${o.statusText}`)),e=o=>i=>{let s=i instanceof Error?i.message:String(i);throw new P(`Fetch of '${o}' returned ${s}`)};return{provide:function(o){return k(this,null,function*(){return typeof o!="string"?Promise.resolve(o):fetch(o).then(t).catch(e(o))})}}},pr=()=>{let t=i=>i.ok?i.json():Promise.reject(new Error(`${i.status} - ${i.statusText}`)),e=i=>s=>(s.exposes||(s.exposes=[]),s.shared||(s.shared=[]),s.url||(s.url=i),s),o=i=>s=>{let a=s instanceof Error?s.message:String(s);throw new P(`Fetch of '${i}' returned ${a}`)};return{provide:function(i){return k(this,null,function*(){return fetch(i).then(t).then(e(i)).catch(o(i))})}}},H=class X{constructor(e){this.item=e}static of(e){return new X(e)}static empty(){return X.of(void 0)}isPresent(){return typeof this.item<"u"&&this.item!==null}set(e){return X.of(e)}ifPresent(e){this.isPresent()&&e(this.item)}map(e){if(!this.isPresent())return X.empty();let o=e(this.item);return o instanceof X?o:X.of(o)}orElse(e){return this.isPresent()?this.item:e}orThrow(e){if(this.isPresent())return this.item;throw typeof e=="function"?e():typeof e=="string"?new Error(e):e}get(){return this.item}},mr=t=>{let e=t.storage("remotes",{});t.clearStorage&&e.clear();let o=e.get()??{};return{contains:function(i){return!!o[i]},remove:function(i){return delete o[i],this},addOrUpdate:function(i,s){return o[i]=s,this},tryGet:function(i){return H.of(o[i])},tryGetModule:function(i,s){return H.of(o[i]?.exposes.find(a=>a.moduleName===s)).map(a=>F(o[i].scopeUrl,a.file))},getAll:function(){return o},commit:function(){return e.set(o),this}}},Er=t=>{let e=t.storage("scoped-externals",{});t.clearStorage&&e.clear();let o=e.get()??{};return{addExternal:function(i,s,a){return o[i]||(o[i]={}),o[i][s]=a,this},remove:function(i){return delete o[i],this},getAll:function(){return o},tryGet:function(i){return H.of(o[i])},commit:function(){return e.set(o),this}}},vr=t=>{let e=t.storage("shared-externals",{[D]:{}});t.clearStorage&&e.clear();let o=e.get();return{getFromScope:function(i){return j({},o[i??D])},addOrUpdate:function(i,s,a){return o[a??D]||(o[a??D]={}),o[a??D][i]=s,this},getScopes:function(i={includeGlobal:!0}){return i.includeGlobal?Object.keys(o):Object.keys(o).filter(s=>s!==D)},removeFromAllScopes:function(i){Object.values(o).forEach(s=>{let a=[];Object.entries(s).forEach(([f,d])=>{let r=[];if(d.versions.forEach((c,n)=>{let l=c.remotes.findIndex(h=>h.name===i);~l&&c.remotes.splice(l,1),c.remotes.length===0&&r.push(n)}),r.length>0){for(let c=r.length-1;c>=0;c--)d.versions.splice(r[c],1);d.dirty=!0,d.versions.length===0&&a.push(f)}}),a.forEach(f=>delete s[f])})},scopeType:function(i){switch(i){case D:case null:case void 0:return"global";case Qe:return"strict";default:return"shareScope"}},tryGet:function(i,s){return H.of(o[s??D]?.[i])},commit:function(){return e.set(o),this}}},$r=t=>({versionCheck:fr(),manifestProvider:dr(),remoteEntryProvider:pr(),remoteInfoRepo:mr(t),scopedExternalsRepo:Er(t),sharedExternalsRepo:vr(t),browser:nr(t)});function Rr(t,e){return(i,s)=>k(null,null,function*(){if(s&&o(i,s))return t.log.debug(7,`Found remote '${s}' in storage, omitting fetch.`),H.empty();try{let a=yield e.remoteEntryProvider.provide(i);if(t.log.debug(7,`[${a.name}] Fetched from '${a.url}', exposing: ${JSON.stringify(a.exposes)}`),s&&a.name!==s){let f=`Fetched remote '${a.name}' does not match requested '${s}'.`;if(t.strict)throw new P(f);t.log.warn(7,f+" Omitting expected name.")}return e.remoteInfoRepo.contains(a.name)&&(a.override=!0,t.log.debug(7,`Overriding existing remote '${s}' with '${i}'.`)),H.of(a)}catch(a){return t.log.error(7,`[${s??"unknown"}] Could not fetch remoteEntry from ${i}.`,a),Promise.reject(new P(`[${s??i}] Could not fetch remoteEntry.`))}});function o(i,s){return e.remoteInfoRepo.tryGet(s).map(a=>t.profile.overrideCachedRemotes!=="always"||!t.profile.overrideCachedRemotesIfURLMatches&&i===F(a.scopeUrl,"remoteEntry.json")).orElse(!1)}}function gr(t,e){return r=>{try{r?.override&&o(r),i(r);let c=s(r);return Promise.resolve({entry:r,actions:c})}catch(c){return Promise.reject(c)}};function o(r){e.remoteInfoRepo.remove(r.name),e.scopedExternalsRepo.remove(r.name),e.sharedExternalsRepo.removeFromAllScopes(r.name)}function i({name:r,url:c,exposes:n}){e.remoteInfoRepo.addOrUpdate(r,{scopeUrl:Z(c),exposes:Object.values(n??[]).map(l=>({moduleName:l.key,file:l.outFileName}))})}function s(r){let c={};return r.shared.forEach(n=>{if((!n.version||!e.versionCheck.isValidSemver(n.version))&&d(r.name,`[${r.name}][${n.packageName}] Version '${n.version}' is not a valid version.`),n.singleton){let{action:l,sharedVersion:h}=a(r.name,n);c[n.packageName]={action:l},l==="skip"&&n.shareScope&&h?.remotes[0]?.file&&(c[n.packageName].override=e.remoteInfoRepo.tryGet(h.remotes[0].name).map(p=>F(p.scopeUrl,h.remotes[0].file)).orThrow(()=>(t.log.error(8,`[${n.shareScope??D}][${r.name}][${n.packageName}@${n.version}][override] Remote name not found in cache.`),new P(`Could not find override url from remote ${h.remotes[0].name}`))))}else f(r.name,n)}),c}function a(r,c){let n=e.sharedExternalsRepo.tryGet(c.packageName,c.shareScope).orElse({dirty:!1,versions:[]}),l="skip",h=c.version??e.versionCheck.smallestVersion(c.requiredVersion),p={file:c.outFileName,strictVersion:c.strictVersion,requiredVersion:c.requiredVersion,name:r,cached:!1};e.sharedExternalsRepo.scopeType(c.shareScope)==="strict"&&(p.requiredVersion=h,l="share");let u=n.versions.find(L=>L.action==="share"),v=!u||e.versionCheck.isCompatible(u.tag,p.requiredVersion);l==="skip"&&!v&&p.strictVersion&&(l="scope",t.strict&&d(r,`[${c.shareScope??D}][${r}] ${c.packageName}@${c.version} Is not compatible with existing ${c.packageName}@${u.tag} requiredRange '${u.remotes[0]?.requiredVersion}'`));let g=n.versions.find(L=>L.tag===h);return g?(p.strictVersion&&g.remotes[0].requiredVersion!==p.requiredVersion&&d(r,`[${r}][${c.packageName}@${c.version}] Required version '${p.requiredVersion}' does not match existing '${g.remotes[0].requiredVersion}'`),g.remotes.push(p)):(u||(l="share"),p.cached=l!=="skip",n.versions.push({tag:h,action:l,host:!1,remotes:[p]})),e.sharedExternalsRepo.addOrUpdate(c.packageName,{dirty:n.dirty,versions:n.versions.sort((L,w)=>e.versionCheck.compare(w.tag,L.tag))},c.shareScope),{action:l,sharedVersion:u}}function f(r,c){e.scopedExternalsRepo.addExternal(r,c.packageName,{tag:c.version??e.versionCheck.smallestVersion(c.requiredVersion),file:c.outFileName})}function d(r,c){if(t.strict)throw t.log.error(8,c),new P(`Could not process remote '${r}'`);t.log.warn(8,c)}}function Ir({log:t}){return({entry:s,actions:a})=>{let f={imports:{}};return e(s,a,f),i(s,f),t.debug(9,`[${s.name}] Processed actions:`,a),Promise.resolve(f)};function e(s,a,f){if(!s.shared)return;let d=Z(s.url);s.shared.forEach(r=>{if(!r.singleton){o(d,r.packageName,F(d,r.outFileName),f);return}if(!a[r.packageName]){t.warn(9,`[${s.name}] No action defined for shared external '${r.packageName}', skipping.`);return}if(a[r.packageName].action==="skip"){if(!r.shareScope)return;if(a[r.packageName].override){o(d,r.packageName,a[r.packageName].override,f);return}}if(a[r.packageName].action==="scope"){o(d,r.packageName,F(d,r.outFileName),f);return}if(r.shareScope){o(d,r.packageName,F(d,r.outFileName),f);return}f.imports[r.packageName]=F(d,r.outFileName)})}function o(s,a,f,d){d.scopes||(d.scopes={}),d.scopes[s]||(d.scopes[s]={}),d.scopes[s][a]=f}function i(s,a){if(!s.exposes)return;let f=Z(s.url);s.exposes.forEach(d=>{let r=F(s.name,d.key),c=F(f,d.outFileName);a.imports[r]=c})}}var Sr=(t,e)=>({getRemoteEntry:Rr(t,e),updateCache:gr(t,e),convertToImportMap:Ir(t)}),Or=t=>{let e=Ke(t),o=$r(e),i=ir(e,o),s=Sr(e,o);return{init:i,adapters:o,config:e,dynamicInit:s}},de=(t,e={})=>{let{init:o,dynamicInit:i,config:s,adapters:a}=Or(e),f=d=>s.log.debug(0,d,{remotes:j({},a.remoteInfoRepo.getAll()),"shared-externals":a.sharedExternalsRepo.getScopes({includeGlobal:!0}).reduce((r,c)=>U(j({},r),{[c]:a.sharedExternalsRepo.getFromScope(c)}),{}),"scoped-externals":a.scopedExternalsRepo.getAll()});return o.getRemoteEntries(t).then(o.processRemoteEntries).then(o.determineSharedExternals).then(o.generateImportMap).then(o.commitChanges).then(o.exposeModuleLoader).then(d=>{let r={config:s,loadRemoteModule:d,as:()=>({loadRemoteModule:d}),remote:l=>({loadModule:h=>d(l,h)})},c=l=>k(null,null,function*(){i.updateCache(l).then(i.convertToImportMap).then(o.commitChanges)}),n=(l,h)=>k(null,null,function*(){return i.getRemoteEntry(l,h).then(p=>p.map(c).orElse(Promise.resolve())).catch(p=>(f(`[dynamic-init][${h??l}] STATE DUMP`),s.strict?Promise.reject(p):(console.warn("Failed to initialize remote entry, continuing anyway."),Promise.resolve()))).then(()=>U(j({},r),{initRemoteEntry:n}))});return U(j({},r),{initRemoteEntry:n})}).catch(d=>(f("[init] STATE DUMP"),Promise.reject(d)))};var pe={debug:(t,e,o)=>o?console.log(`[DEBUG][${t}]: ${e}`,o):console.log(`[DEBUG][${t}]: ${e}`),error:(t,e,o)=>o?console.error(`[NF][${t}]: ${e}`,o):console.error(`[NF][${t}]: ${e}`),warn:(t,e,o)=>o?console.warn(`[NF][${t}]: ${e}`,o):console.warn(`[NF][${t}]: ${e}`)};var me=t=>(e,o)=>{sessionStorage.getItem(`${t}.${String(e)}`)||sessionStorage.setItem(`${t}.${String(e)}`,JSON.stringify(o));let i={get(){let s=sessionStorage.getItem(`${t}.${String(e)}`);if(s)return JSON.parse(s)},set(s){return sessionStorage.setItem(`${t}.${String(e)}`,JSON.stringify(s)),i},clear(){return sessionStorage.setItem(`${t}.${String(e)}`,JSON.stringify(o)),this}};return i},Nr=t=>(e,o={})=>(o?.override&&document.head.querySelectorAll(`script[type="${t}"]`).forEach(i=>i.remove()),document.head.appendChild(Object.assign(document.createElement("script"),{type:t,innerHTML:JSON.stringify(e)})),Promise.resolve(e)),Ee=(t={shimMode:!1})=>({loadModuleFn:e=>importShim(e),setImportMap:Nr(t.shimMode?"importmap-shim":"importmap")});var Lr={mfe1:"http://localhost:8080/mfe1/remoteEntry.json",mfe2:"http://localhost:8080/mfe2/remoteEntry.json"};de(Lr,U(j({},Ee({shimMode:!0})),{logger:pe,storage:me,hostRemoteEntry:"./remoteEntry.json",logLevel:"debug",profile:{latestSharedExternal:!1,skipCachedRemotesIfURLMatches:!1}})).then(t=>(console.log(t.config),import("./chunk-KXQEBAEO.js").then(e=>e.bootstrap(t)))).catch(t=>console.error(t));
